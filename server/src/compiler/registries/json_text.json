{
	"$schema":"./json_text.schema.json",
	"tags": {
		"text":{
			"type":"string"
		},
		"color":{
			"type":"chat_color"
		},
		"bold":{
			"type":"bool"
		},
		"italic":{
			"type":"bool"
		},
		"underlined":{
			"type":"bool"
		},
		"strikethrough":{
			"type":"bool"
		},
		"obfuscated":{
			"type":"bool"
		},
		"font":{
			"type":"string"
		},
		"insertion":{
			"type":"string",
			"only_when": ["chat"]
		},
		"score":{
			"type":"variable",
			"context": {
				"type":"score"
			},
			"only_when": ["chat","book","sign","title"],
			"post_processor": {
				"id":"to_compound",
				"values":{
					"name":"entry",
					"objective":"objective"
				}
			}
		},
		"selector":{
			"type":"variable",
			"context": {
				"type":"selector"
			},
			"only_when": ["chat","book","sign","title"]
		},
		"nbt":{
			"type":"variable",
			"context": {
				"type":"nbtAccess"
			},
			"only_when": ["chat","book","sign","title"],
			"post_processor": {
				"id":"merge_compound",
				"values":{
					"$self":"path",
					"block":{
						"if":"selector.type",
						"equals":"block",
						"value":"selector.value",
						"processor":"stringify"
					},
					"entity":{
						"if":"selector.type",
						"equals":"entity",
						"value":"selector.value",
						"processor":"stringify"
					},
					"storage":{
						"if":"selector.type",
						"equals":"storage",
						"value":"selector.value",
						"processor":"stringify"
					}
				}
			}
		},
		"interpret":{
			"type":"bool",
			"only_when": ["chat","book","sign","title"]
		},
		"run":{
			"type":"string",
			"path": ["clickEvent","value"],
			"modifications": {
				"clickEvent":{
					"action":"run_command"
				}
			},
			"only_when": ["chat","book"]
		},
		"trigger":{
			"type":"variable",
			"context": {
				"type":"trigger"
			},
			"only_when": ["chat","book"],
			"path": ["clickEvent","value"],
			"post_processor": {
				"id":"pattern",
				"pattern":"/trigger {}"
			},
			"modifications": {
				"clickEvent":{
					"action":"run_command"
				}
			}
		},
		"click":{
			"path": ["clickEvent"],
			"only_when": ["chat","book"],
			"type":"compound",
			"context": {
				"predicate":{
					"action":{
						"type":"enum",
						"context": {
							"values": [
								"run_command",
								"suggest_command",
								"open_url",
								"change_page",
								"copy_to_clipboard"
							]
						}
					},
					"value":{
						"type":"string"
					}
				}
			}
		},
		"tooltip":{
			"path": ["hoverEvent","value"],
			"only_when": ["chat","book"],
			"type":"compound",
			"context": {
				"json_type": "title"
			},
			"modifications": {
				"hoverEvent":{
					"action":"show_text"
				}
			}
		},
		"hover":{
			"path": ["hoverEvent"],
			"type":"compound",
			"only_when": ["chat","book"],
			"context": {
				"predicate":{
					"text":{
						"path": ["contents"],
						"type":"compound",
						"context": {
							"json_type": "title"
						},
						"modifications": {
							"action":"show_text"
						}
					},
					"item":{
						"path": ["contents"],
						"type":"item",
						"context": {
							"slot": false
						},
						"modifications": {
							"action":"show_item"
						}
					},
					"entity":{
						"path": ["contents"],
						"type":"compound",
						"context": {
							"predicate":{
								"name":{
									"type":"compound",
									"context": {
										"json_type": "title"
									}
								},
								"type":{
									"type":"enum",
									"context": {
										"registry": "entities"
									}
								},
								"id":{
									"type":"string"
								}
							}
						},
						"modifications": {
							"action":"show_entity"
						}
					}
				}
			}
		}
	}
}